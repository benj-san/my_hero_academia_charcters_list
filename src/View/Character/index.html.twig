{# This line means we gonna 'insert' our homepage inside the skeleton we just created #}
{% extends 'base.html.twig' %}

{# And just replace the blocks we want to change #}
{# Everything inside this title block will replace what was inside the base one #}
{% block title %}MHA Universe : Homepage{% endblock %}

{# The most important block, inside this one we put all the html we want to display inside the 'corpse' of our page #}
{% block content %}
    <main>
        <video autoplay muted loop id="backgroundVideo">
            <source src="/assets/background_video.mp4" type="video/mp4" />
            My hero academia : Votre navigateur ne permet pas de charger cette vid√©o
        </video>

        <section>

            {% for category in categories %}

                <h1>{{ category.title }}</h1>


                <section id="cardContainer">

                {% for character in characters %}

                    {% if character.category_id == category.id %}

                        <div class="characterCard" id="hero{{ character.id }}">

                            {% if character.username == session.login %}

                                <button class="updateMe" type="button">
                                    <img src="/assets/picture/update.png" alt="Update character">
                                </button>
                                <a onClick="return confirm('Are you sure you want to delete?');" class="deleteMe"
                                   href="delete/{{ character.id }}">x</a>

                            {% endif %}

                            <a href="show/{{ character.id }}">
                                <article>
                                    {% if character.picture is empty %}
                                        <img src="/assets/picture/hero/default.png" alt="{{ character.name }}">
                                    {% else %}
                                        <img src="/assets/picture/hero/{{ character.picture }}" alt="{{ character.name }}">
                                    {% endif %}
                                    <h2>{{ character.name }}</h2>
                                </article>
                            </a>

                            {% if character.username == session.login %}

                                <form class="updateForm" action="edit/{{ character.id }}" method="post" enctype="multipart/form-data">
                                    <input type="hidden" name="editId" value ="{{ character.id }}">
                                    <label id="fullLabel">
                                        <input type="text" name="name" placeholder="Modify name" value="{{ character.name }}">
                                    </label>
                                    <label id="fullLabel">
                                        <textarea name="description" placeholder="Modify Description">{{ character.description }}</textarea>
                                    </label>
                                    <input type="submit" value="Update !">
                                </form>

                            {% endif %}

                        </div>

                    {% endif %}

                {% endfor %}

                </section>

            {% endfor %}

        </section>

    </main>
{% endblock %}

{#
{% block javascript %}
<script src="/assets/js/axios_test.js"></script>
{% endblock %}#}
